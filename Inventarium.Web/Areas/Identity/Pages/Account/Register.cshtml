@page
@model InventariumWebApp.Areas.Identity.Pages.Account.RegisterModel
@{
    ViewData["Title"] = "Registrar";
}

<h2 class="mb-4">Criar Conta</h2>

<form asp-page="/Account/Register" asp-area="Identity" method="post">
    <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>

    <div class="row mb-3">
        <div class="col-md-6">
            <label asp-for="Input.FirstName" class="form-label">Nome</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-user"></i></span>
                <input asp-for="Input.FirstName" class="form-control" />
            </div>
            <span asp-validation-for="Input.FirstName" class="text-danger"></span>
        </div>
        <div class="col-md-6">
            <label asp-for="Input.LastName" class="form-label">Sobrenome</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-user"></i></span>
                <input asp-for="Input.LastName" class="form-control" />
            </div>
            <span asp-validation-for="Input.LastName" class="text-danger"></span>
        </div>
    </div>

    <div class="mb-3">
        <label asp-for="Input.Email" class="form-label">Email</label>
        <div class="input-group">
            <span class="input-group-text"><i class="fas fa-envelope"></i></span>
            <input asp-for="Input.Email" class="form-control" />
        </div>
        <span asp-validation-for="Input.Email" class="text-danger"></span>
    </div>

    <div class="row mb-3">
        <div class="col-md-6">
            <label asp-for="Input.Company" class="form-label">Empresa</label>
            <input asp-for="Input.Company" class="form-control" />
            <span asp-validation-for="Input.Company" class="text-danger"></span>
        </div>
        <div class="col-md-6">
            <label asp-for="Input.PhoneNumber" class="form-label">Telefone</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-phone"></i></span>
                <input asp-for="Input.PhoneNumber" class="form-control" />
            </div>
            <span asp-validation-for="Input.PhoneNumber" class="text-danger"></span>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col-md-6">
            <label asp-for="Input.Password" class="form-label">Senha</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                <input asp-for="Input.Password" class="form-control" />
            </div>
            <span asp-validation-for="Input.Password" class="text-danger"></span>
        </div>
        <div class="col-md-6">
            <label asp-for="Input.ConfirmPassword" class="form-label">Confirmar Senha</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                <input asp-for="Input.ConfirmPassword" class="form-control" />
            </div>
            <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
        </div>
    </div>

    <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-user-plus me-1"></i> Registrar
        </button>
    </div>
</form>


@section Scripts {
    <partial name="_ValidationScriptsPartial" />

        @if (TempData["RegisterSuccess"] != null)
        {
            <script>
                Swal.fire({
                    icon: 'success',
                    title: 'Registrado com sucesso!',
                    text: '@TempData["RegisterSuccess"]',
                    confirmButtonText: 'Ir para login'
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = '/Identity/Account/Login';
                    }
                });
            </script>
        }
}