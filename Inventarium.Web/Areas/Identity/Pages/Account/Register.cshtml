@page
@model InventariumWebApp.Areas.Identity.Pages.Account.RegisterModel
@{
    ViewData["Title"] = "Registrar";
}

<div class="container d-flex justify-content-center align-items-center" style="min-height: 95vh;">
    <div class="card shadow-lg rounded-4 p-4" style="width: 100%; max-width: 550px;">
        <div class="text-center mb-4">
            <h2 class="fw-bold">Criar Conta</h2>
            <p class="text-muted">Preencha os dados para se registrar</p>
        </div>

        <form asp-page="/Account/Register" asp-area="Identity" method="post">
            <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="form-floating">
                        <input asp-for="Input.FirstName" class="form-control" placeholder="Nome" />
                        <label asp-for="Input.FirstName">Nome</label>
                        <span asp-validation-for="Input.FirstName" class="text-danger small"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-floating">
                        <input asp-for="Input.LastName" class="form-control" placeholder="Sobrenome" />
                        <label asp-for="Input.LastName">Sobrenome</label>
                        <span asp-validation-for="Input.LastName" class="text-danger small"></span>
                    </div>
                </div>
            </div>

            <div class="form-floating mb-3">
                <input asp-for="Input.Email" class="form-control" placeholder="email@dominio.com" />
                <label asp-for="Input.Email">E-mail</label>
                <span asp-validation-for="Input.Email" class="text-danger small"></span>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="form-floating">
                        <input asp-for="Input.Company" class="form-control" placeholder="Empresa" />
                        <label asp-for="Input.Company">Empresa</label>
                        <span asp-validation-for="Input.Company" class="text-danger small"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-floating">
                        <input asp-for="Input.PhoneNumber" class="form-control" placeholder="Telefone" />
                        <label asp-for="Input.PhoneNumber">Telefone</label>
                        <span asp-validation-for="Input.PhoneNumber" class="text-danger small"></span>
                    </div>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="form-floating">
                        <input asp-for="Input.Password" class="form-control" type="password" placeholder="Senha" />
                        <label asp-for="Input.Password">Senha</label>
                        <span asp-validation-for="Input.Password" class="text-danger small"></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-floating">
                        <input asp-for="Input.ConfirmPassword" class="form-control" type="password" placeholder="Confirmar Senha" />
                        <label asp-for="Input.ConfirmPassword">Confirmar Senha</label>
                        <span asp-validation-for="Input.ConfirmPassword" class="text-danger small"></span>
                    </div>
                </div>
            </div>

            <div class="d-grid mb-3">
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="bi bi-person-plus me-1"></i> Registrar
                </button>
            </div>

            <div class="text-center">
                <p>Já possui conta? <a asp-page="/Account/Login" asp-area="Identity">Entrar</a></p>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    @if (TempData["RegisterSuccess"] != null)
    {
        <script>
            Swal.fire({
                icon: 'success',
                title: 'Registrado com sucesso!',
                text: '@TempData["RegisterSuccess"]',
                confirmButtonText: 'Ir para login'
            }).then((result) => {
                if (result.isConfirmed) {
                    window.location.href = '/Identity/Account/Login';
                }
            });
        </script>
    }
}
